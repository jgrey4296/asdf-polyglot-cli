#!/usr/bin/env bash
# polyglot-stub.bash -*- mode: sh -*-
#set -o errexit
set -o nounset
set -o pipefail

# shellcheck disable=SC1091
source "$POLY_SRC/lib/lib-util.bash"

TEMPLATES="$POLY_SRC/template"

function print-help () {
    case "${@: 1}" in
        -h|--help) ;;
        *) if [[ "$#" -gt 0 ]]; then
               return
           fi
           ;;
    esac
    echo -e "usage: polyglot stub [-h] [type]

A utility to easily stub:
- task hooks,
- language cmds,
- tool cmds
- envrc additions

positional arguments:
type : [hook, help, lang, tool, envrc]

options:
-h, --help    : show this help message and exit

"
    exit "$PRINTED_HELP"
}

function print-envrc-stub () {
    cat "$TEMPLATES/_envrc"
}

print-help "$@"

case $1 in
    hook) print-task-hook-stub ;;
    help) print-hook-help-stub ;;
    lang) print-lang-cmd-stub  ;;
    tool) print-tool-cmd-stub  ;;
    envrc) print-envrc-stub    ;;
    *) fail "No stub target type provided" ;;
esac
